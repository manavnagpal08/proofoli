<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contact | Manav Nagpal</title>
  
  <!-- Load Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Load AOS for scroll effects (if needed) -->
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css" />

  <!-- Fonts: Inter is the preferred modern font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet" />

  <!-- Internal Styling for Custom Effects (Gradients, Neomorphism, Layout, Animations) -->
  <style>
    /* 1. Base Setup and Variables */
    :root {
      --accent-color: #00d9ff; /* Default for Hacker Theme */
      --secondary-accent: #6f00ff;
    }

    body {
      font-family: 'Inter', sans-serif;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      background-color: #121212; /* Deep dark background */
      color: #f0f0f0;
      transition: background-color 0.3s, color 0.3s;
    }

    /* 2. Theme Switching Logic (CSS Variables) */
    .theme-lavender {
      --accent-color: #a766ff;
      --secondary-accent: #ff66a7;
    }
    .theme-hacker {
      --accent-color: #00d9ff;
      --secondary-accent: #6f00ff;
    }
    
    /* 3. Custom Visual Elements & KEYFRAME ANIMATIONS */

    /* Logo Glow Animation */
    @keyframes glow-pulse {
      0% { text-shadow: 0 0 5px rgba(255, 255, 255, 0.2), 0 0 10px rgba(var(--rgb-accent), 0.4); }
      50% { text-shadow: 0 0 8px rgba(255, 255, 255, 0.4), 0 0 15px rgba(var(--rgb-accent), 0.6); }
      100% { text-shadow: 0 0 5px rgba(255, 255, 255, 0.2), 0 0 10px rgba(var(--rgb-accent), 0.4); }
    }
    
    .glow-text {
      --rgb-accent: 0, 217, 255; /* Default RGB for hacker theme */
      text-shadow: 0 0 5px rgba(255, 255, 255, 0.2), 0 0 10px rgba(var(--rgb-accent), 0.4);
      transition: text-shadow 0.3s;
      animation: glow-pulse 3s infinite alternate; /* New breathing animation */
    }
    .theme-lavender .glow-text {
        --rgb-accent: 167, 102, 255;
    }
    .glow-text:hover {
        animation-duration: 1.5s; /* Speed up on hover */
    }

    /* Input Focus Pulse Animation */
    @keyframes input-shadow-pulse {
      0% { box-shadow: inset 1px 1px 3px #101010, inset -1px -1px 3px #303030; }
      50% { box-shadow: inset 1px 1px 5px var(--accent-color), inset -1px -1px 5px var(--accent-color); }
      100% { box-shadow: inset 1px 1px 3px #101010, inset -1px -1px 3px #303030; }
    }

    /* Confetti Animation */
    @keyframes fall {
        0% { opacity: 0; transform: translate(0, -50px) rotate(0deg); }
        10% { opacity: 1; }
        100% { opacity: 0; transform: translate(var(--x-end), var(--y-end)) rotate(720deg); }
    }
    .confetti-piece {
        position: absolute;
        width: 10px;
        height: 10px;
        background-color: var(--confetti-color);
        border-radius: 50%;
        opacity: 0;
        pointer-events: none;
        animation: fall 1.5s ease-out forwards;
        z-index: 100;
    }

    /* Gradient Text */
    .gradient-text {
      background: linear-gradient(90deg, var(--accent-color), var(--secondary-accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-fill-color: transparent;
    }

    /* Navbar Link Active State */
    .nav-links .active {
      color: var(--accent-color);
      border-bottom: 2px solid var(--accent-color);
      padding-bottom: 2px;
    }

    /* 4. Contact Card Neomorphism */
    .contact-container {
      max-width: 600px;
      width: 90%;
      padding: 40px;
      border-radius: 1.5rem; /* rounded-3xl */
      /* Deep Shadow/Neomorphism effect for a floating card */
      background: #1a1a1a; /* Slightly lighter dark background for the card */
      box-shadow: 
          10px 10px 30px rgba(0, 0, 0, 0.5), /* Stronger outer shadow (dark) */
          -10px -10px 30px rgba(45, 45, 45, 0.1); /* Subtle inner shadow (light) */
      transition: all 0.3s ease-in-out;
    }

    .contact-container:hover {
        transform: translateY(-5px); /* Subtle lift */
        box-shadow: 
            15px 15px 40px rgba(0, 0, 0, 0.6),
            -15px -15px 40px rgba(45, 45, 45, 0.15);
    }

    /* 5. Form Input Inset Styling */
    .form-group {
        position: relative; /* Needed for label positioning */
    }
    .form-group input,
    .form-group textarea {
        padding: 1rem 1.5rem;
        border: none;
        outline: none;
        background: #282828; /* Input background */
        border-radius: 0.75rem; /* rounded-xl */
        font-size: 1rem;
        color: #f0f0f0;
        resize: vertical; 
        
        /* Subtle inner shadow for an 'inset' look (Neomorphism) */
        box-shadow: inset 3px 3px 6px #101010, inset -3px -3px 6px #303030;
        transition: all 0.3s ease;
    }

    .form-group input:focus,
    .form-group textarea:focus {
        border: 1px solid var(--accent-color); /* Highlight color on focus */
        animation: input-shadow-pulse 1.5s infinite alternate; /* Pulse on focus */
    }

    /* 6. Button Styling */
    .btn {
        display: inline-block;
        padding: 12px 30px;
        border: none;
        border-radius: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1px;
        cursor: pointer;
        
        /* Dynamic Gradient based on theme */
        background: linear-gradient(90deg, var(--accent-color), var(--secondary-accent));
        color: #fff;
        box-shadow: 0 5px 20px rgba(0, 217, 255, 0.4); 
        transition: all 0.3s ease;
    }

    .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 217, 255, 0.6); 
        opacity: 0.95;
    }

    /* Enhanced Active/Press State */
    .btn:active {
        transform: translateY(3px); /* Deeper press */
        box-shadow: 0 0 5px rgba(0, 217, 255, 0.4); /* Shadow disappears/shrinks */
    }
    
    /* 7. Wave Color Adjustment */
    .footer .waves path {
        fill: var(--accent-color); 
        fill-opacity: 0.1; /* Very subtle light wave */
    }
    
    /* 8. Hamburger Menu Responsive Styles (Tailwind handles most, but needed for toggle) */
    .hamburger {
        display: none;
        cursor: pointer;
        font-size: 1.5rem;
        color: var(--accent-color);
    }

    @media (max-width: 768px) {
      .hamburger {
        display: block;
      }
      .nav-links {
        display: none;
        position: absolute;
        top: 64px; /* Height of the navbar */
        right: 0;
        width: 100%;
        flex-direction: column;
        background-color: #1a1a1a;
        z-index: 10;
        box-shadow: 0 10px 15px rgba(0,0,0,0.5);
      }
      .nav-links.open {
        display: flex;
      }
      .nav-links a, .nav-links span {
        padding: 1rem;
        text-align: center;
        border-bottom: 1px solid #282828;
      }
    }
    
  </style>
</head>

<!-- Applied Tailwind classes for layout and dark mode defaults -->
<body class="theme-hacker">

  <!-- Navbar -->
  <nav class="navbar flex justify-between items-center px-6 py-4 bg-gray-900 shadow-lg sticky top-0 z-50">
    <div class="logo text-2xl font-bold glow-text">Manav Nagpal</div>

    <div class="hamburger md:hidden" onclick="toggleMenu()">â˜°</div>

    <div class="nav-links hidden md:flex space-x-6 items-center text-lg font-medium" id="navLinks">
      <a href="index.html" class="hover:text-cyan-400 transition duration-300">Home</a>
      <a href="about.html" class="hover:text-cyan-400 transition duration-300">About</a>
      <a href="skills.html" class="hover:text-cyan-400 transition duration-300">Skills</a>
      <a href="projects.html" class="hover:text-cyan-400 transition duration-300">Projects</a>
      <a href="certificates.html" class="hover:text-cyan-400 transition duration-300">Certifications</a>
      <a class="active" href="contact.html">Contact</a>
      <span class="text-xl cursor-pointer hover:scale-110 transition duration-200" onclick="setTheme('lavender')">ðŸ’œ</span>
      <span class="text-xl cursor-pointer hover:scale-110 transition duration-200" onclick="setTheme('hacker')">ðŸ’»</span>
    </div>
  </nav>

  <!-- Contact Section -->
  <section class="section contact-section flex-grow flex items-center justify-center py-20 px-4">

    <!-- Neomorphic Card Container -->
    <div class="contact-container relative" data-aos="fade-up">
      <h2 class="gradient-text text-4xl font-extrabold mb-3 sm:text-5xl">Let's Get in Touch</h2>
      <p class="sub-text text-gray-400 font-light mb-8 text-lg">
        Iâ€™d love to hear from you. Whether you have a question or just want to say hi, drop a message!
      </p>

      <form class="contact-form flex flex-col gap-6" action="https://formspree.io/f/xnnvryna" method="POST" id="contactForm">

        <div class="form-group">
          <!-- The 'placeholder' attribute is used here to hook the floating label JS -->
          <input type="email" name="email" id="emailInput" placeholder=" " required class="w-full text-white appearance-none">
          <label class="absolute left-6 top-1/2 -translate-y-1/2 text-gray-500 pointer-events-none transition-all duration-300 transform-gpu" for="emailInput">Your Email</label>
        </div>

        <div class="form-group">
          <!-- The 'placeholder' attribute is used here to hook the floating label JS -->
          <textarea name="message" id="messageInput" rows="5" placeholder=" " required class="w-full text-white appearance-none min-h-[150px]"></textarea>
          <label class="absolute left-6 top-6 text-gray-500 pointer-events-none transition-all duration-300 transform-gpu" for="messageInput">Your Message</label>
        </div>

        <button type="submit" class="btn self-start mt-6 hover:shadow-2xl transition duration-300" id="submitBtn">
          Send Message
        </button>
      </form>
    </div>

  </section>

  <!-- Footer -->
  <footer class="footer relative bg-gray-900 pt-0 mt-10">
    <div class="wave-container absolute top-[-5px] w-full h-[5px]">
      <svg class="waves w-full h-auto" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
        <path fill-opacity="0.2"
          d="M0,96L60,122.7C120,149,240,203,360,197.3C480,192,600,128,720,96C840,64,960,64,1080,101.3C1200,139,1320,213,1380,250.7L1440,288V320H0Z"></path>
      </svg>
    </div>

    <div class="footer-content text-center py-6 text-gray-500 text-sm">
      <p class="mt-4">Â© 2025 Manav Nagpal | 
        <a href="mailto:manav.nagpal2005@gmail.com" class="text-cyan-400 hover:text-white transition duration-200">manav.nagpal2005@gmail.com</a>
      </p>
    </div>
  </footer>

  <!-- Scripts -->
  <script>
    // Theme switching logic
    function setTheme(themeName) {
      document.body.className = themeName === 'lavender' ? 'theme-lavender' : 'theme-hacker';
    }

    // Floating Label implementation
    document.querySelectorAll('.form-group input, .form-group textarea').forEach(input => {
        const label = input.nextElementSibling;

        // Function to update label position
        const updateLabel = () => {
            // Check for value OR if the element is currently focused
            if (input.value || document.activeElement === input) {
                // Input has content or is focused: move label up
                label.classList.add('top-4', 'text-xs', 'bg-[#1a1a1a]', 'px-1', 'rounded-sm', 'text-opacity-100');
                label.classList.remove('top-1/2', 'text-base', 'bg-transparent', 'text-opacity-70');
            } else {
                // Input is empty and not focused: move label to center
                label.classList.add('top-1/2', 'text-base', 'bg-transparent', 'text-opacity-70');
                label.classList.remove('top-4', 'text-xs', 'bg-[#1a1a1a]', 'px-1', 'rounded-sm', 'text-opacity-100');
            }
        };

        input.addEventListener('input', updateLabel);
        input.addEventListener('focus', updateLabel);
        input.addEventListener('blur', updateLabel);
        
        // Initial call to set the correct state on load
        updateLabel();
    });
    
    // Navbar Toggling for Mobile
    function toggleMenu() {
        const navLinks = document.getElementById('navLinks');
        navLinks.classList.toggle('open');
    }

    // CONFETTI ANIMATION LOGIC
    const form = document.getElementById('contactForm');
    const submitBtn = document.getElementById('submitBtn');

    // This function creates and animates the confetti pieces
    function launchConfetti(originElement) {
        const rect = originElement.getBoundingClientRect();
        const colors = ['#00d9ff', '#6f00ff', '#f0f0f0', '#ff66a7', '#a766ff'];
        const container = document.querySelector('.contact-container');
        
        // Calculate the relative position of the button center inside the contact-container
        const btnCenterX = rect.left + rect.width / 2 - container.getBoundingClientRect().left;
        const btnCenterY = rect.top + rect.height / 2 - container.getBoundingClientRect().top;
        
        // Ensure container is positioned relatively for absolute confetti
        container.style.position = 'relative';

        for (let i = 0; i < 30; i++) {
            const piece = document.createElement('div');
            piece.classList.add('confetti-piece');

            // Apply random color from the color palette
            piece.style.setProperty('--confetti-color', colors[Math.floor(Math.random() * colors.length)]);

            // Random end position for a burst effect
            const randomX = (Math.random() - 0.5) * 200; // -100px to +100px
            const randomY = (Math.random() - 0.5) * 200 - 100; // -150px to +50px (mostly upwards)
            
            piece.style.setProperty('--x-end', `${randomX}px`);
            piece.style.setProperty('--y-end', `${randomY}px`);

            // Set the initial position to the center of the button, relative to the container
            piece.style.left = `${btnCenterX}px`;
            piece.style.top = `${btnCenterY}px`;
            
            container.appendChild(piece);

            // Clean up the piece after the animation finishes
            setTimeout(() => {
                piece.remove();
            }, 1500); // Matches the animation duration
        }
    }

    // Attach event listener to the form submission
    form.addEventListener('submit', function(e) {
        // Only launch confetti if the form is valid (browser handles validation via 'required')
        if (form.checkValidity()) {
            launchConfetti(submitBtn);
        }
        // Formspree handles the actual submission and redirection, so no need to prevent default
    });

    // Initialize AOS
    window.onload = function() {
        AOS.init({
            duration: 800,
            once: true,
        });
    };
  </script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

</body>
</html>
